!function(){"use strict";function t(){document.querySelectorAll(".onepoint-client-stories:not([data-editor-preview])").forEach(function(t){if(!t.dataset.clientStoriesInit){t.dataset.clientStoriesInit="1";var e=t.querySelectorAll(".onepoint-client-stories__tab"),i=t.querySelectorAll(".onepoint-client-stories__slide"),s=t.querySelector(".onepoint-client-stories__arrow--prev"),n=t.querySelector(".onepoint-client-stories__arrow--next"),a=t.querySelector(".onepoint-client-stories__play-pause"),o=i.length;if(0!==o){var r="0"!==t.dataset.autoplay&&"false"!==t.dataset.autoplay,l=Math.max(3,Math.min(15,parseInt(t.dataset.interval,10)||6)),c=0;e.forEach(function(t,e){t.addEventListener("click",function(){u(e),r&&d()})}),t.addEventListener("animationend",function(t){t.target.classList&&t.target.classList.contains("onepoint-client-stories__tab-progress-fill")&&r&&r&&u(c+1)}),s&&s.addEventListener("click",function(){u(c-1),r&&d()}),n&&n.addEventListener("click",function(){u(c+1),r&&d()}),a&&a.addEventListener("click",function(){var t,i;(r=!r)?(a.classList.add("is-playing"),a.classList.remove("is-paused"),(i=(t=e[c])&&t.querySelector(".onepoint-client-stories__tab-progress-fill"))&&(i.style.animationPlayState="running")):(a.classList.remove("is-playing"),a.classList.add("is-paused"),(i=(t=e[c])&&t.querySelector(".onepoint-client-stories__tab-progress-fill"))&&(i.style.animationPlayState="paused")),a.setAttribute("aria-label",r?"Pause carousel":"Play carousel")}),u(0),r?(a&&a.classList.add("is-playing"),a&&a.classList.remove("is-paused")):(a&&a.classList.remove("is-playing"),a&&a.classList.add("is-paused"))}}function d(){var t=e[c];if(t){var i=t.querySelector(".onepoint-client-stories__tab-progress-fill");i&&(i.style.animation="none",i.offsetHeight,i.style.animation="onepoint-progress-fill "+l+"s linear forwards")}}function u(t){c=t=(t%o+o)%o,e.forEach(function(e,i){e.classList.toggle("is-active",i===t),e.setAttribute("aria-selected",i===t)}),i.forEach(function(e,i){e.classList.toggle("is-active",i===t),e.setAttribute("aria-hidden",i!==t)}),d()}})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),window.addEventListener("load",t)}();