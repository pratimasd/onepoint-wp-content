(()=>{"use strict";var e,t={46(){const e=window.wp.blocks,t=window.wp.blockEditor,o=window.wp.components,n=window.wp.i18n,s=window.wp.element,i=window.ReactJSXRuntime,l={tabTitle:"Robotic Process Automation",tabSubtitle:"SolarCo",headline:"Integrating massive volumes of solar farm",description:"Manual reporting and approval processes created bottlenecks, consumed significant time, and increased error risks in finance operations.",buttonText:"Discover the outcomes",buttonUrl:"",tags:["Low-code development"],metrics:[{value:"~2000",label:"person hours saved monthly"}],backgroundImageUrl:""};(0,e.registerBlockType)("onepoint/client-stories-carousel",{edit:function({attributes:e,setAttributes:a}){const{heading:r="Client stories",items:c=[],autoplay:d=!0,interval:p=6}=e,m=function(e){return e&&e.length>0?e:[{...l}]}(c);(0,s.useEffect)(()=>{0===(e.items||[]).length&&a({items:[{...l}]})},[]);const[u,h]=(0,s.useState)(0),[b,g]=(0,s.useState)(!!d);(0,s.useEffect)(()=>{g(!!d)},[d]);const[_,x]=(0,s.useState)(0);(0,s.useEffect)(()=>{_>=m.length&&x(Math.max(0,m.length-1))},[m.length,_]),(0,s.useEffect)(()=>{if(m.length<=1||!b)return;const e=setInterval(()=>{h(e=>(e+1)%m.length)},1e3*(p||6));return()=>clearInterval(e)},[m.length,b,p]);const v=(e,t)=>{const o=[...m];o[e]={...o[e]||l,...t},a({items:o})},k=(e,t)=>{const o=e+t;if(o<0||o>=m.length)return;const n=[...m];[n[e],n[o]]=[n[o],n[e]],a({items:n}),x(o),h(u===e?o:u===o?e:u)},j=m[_]||l,y=(0,t.useBlockProps)({className:"onepoint-client-stories-editor"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.InspectorControls,{children:[(0,i.jsxs)(o.PanelBody,{title:(0,n.__)("Carousel","onepoint-custom-blocks"),initialOpen:!0,children:[(0,i.jsx)(o.TextControl,{label:(0,n.__)("Section heading","onepoint-custom-blocks"),value:r,onChange:e=>a({heading:e||"Client stories"})}),(0,i.jsx)(o.ToggleControl,{label:(0,n.__)("Autoplay on load","onepoint-custom-blocks"),checked:d,onChange:e=>a({autoplay:e}),help:(0,n.__)("Start auto-sliding when the page loads.","onepoint-custom-blocks")}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Interval (seconds)","onepoint-custom-blocks"),type:"number",value:p,onChange:e=>a({interval:Math.max(3,Math.min(15,parseInt(e,10)||6))}),help:(0,n.__)("Time per slide when auto-playing. Min 3, max 15.","onepoint-custom-blocks")}),(0,i.jsx)("p",{style:{marginBottom:8,fontSize:12,color:"#757575"},children:(0,n.__)("Click a tab to edit. Add, remove, or reorder tabs.","onepoint-custom-blocks")}),m.map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6,flexWrap:"wrap"},children:[(0,i.jsx)(o.Button,{variant:_===t?"primary":"secondary",onClick:()=>{x(t),h(t)},style:{flex:"1 1 100px",minWidth:0,textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},children:e.tabTitle||(0,n.__)("Story","onepoint-custom-blocks")+" "+(t+1)}),(0,i.jsx)(o.Button,{variant:"tertiary",onClick:()=>k(t,-1),disabled:0===t,label:(0,n.__)("Move up","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:"↑"}),(0,i.jsx)(o.Button,{variant:"tertiary",onClick:()=>k(t,1),disabled:t===m.length-1,label:(0,n.__)("Move down","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:"↓"}),(0,i.jsx)(o.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>(e=>{if(m.length<=1)return;const t=m.filter((t,o)=>o!==e);a({items:t});let o=_;_===e?o=Math.min(e,t.length-1):_>e&&(o=_-1);let n=u;u===e?n=Math.min(e,t.length-1):u>e&&(n=u-1),x(o),h(n)})(t),disabled:m.length<=1,label:(0,n.__)("Remove tab","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:(0,n.__)("Remove","onepoint-custom-blocks")})]},t)),(0,i.jsx)(o.Button,{variant:"primary",onClick:()=>{const e=[...m,{...l}];a({items:e}),x(e.length-1),h(e.length-1)},style:{marginTop:8,display:"block"},children:(0,n.__)("Add tab","onepoint-custom-blocks")})]}),(0,i.jsxs)(o.PanelBody,{title:(0,n.__)("Current story (tab content)","onepoint-custom-blocks"),initialOpen:!0,children:[(0,i.jsxs)("p",{style:{marginBottom:12,fontSize:12,fontWeight:600,color:"#1e1e1e"},children:[(0,n.__)("Editing story","onepoint-custom-blocks")," ",_+1," ",(0,n.__)("of","onepoint-custom-blocks")," ",m.length,j.tabTitle&&": "+j.tabTitle]}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Tab title","onepoint-custom-blocks"),value:j.tabTitle||"",onChange:e=>v(_,{tabTitle:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Tab subtitle (client)","onepoint-custom-blocks"),value:j.tabSubtitle||"",onChange:e=>v(_,{tabSubtitle:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Headline","onepoint-custom-blocks"),value:j.headline||"",onChange:e=>v(_,{headline:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Description","onepoint-custom-blocks"),value:j.description||"",onChange:e=>v(_,{description:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Button text","onepoint-custom-blocks"),value:j.buttonText||"",onChange:e=>v(_,{buttonText:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Button URL","onepoint-custom-blocks"),value:j.buttonUrl||"",onChange:e=>v(_,{buttonUrl:e||""})}),(0,i.jsxs)("div",{style:{marginBottom:16},children:[(0,i.jsx)("p",{style:{marginBottom:8,fontWeight:600},children:(0,n.__)("Tags","onepoint-custom-blocks")}),(0,i.jsx)("p",{style:{marginBottom:8,fontSize:12,color:"#757575"},children:(0,n.__)("Shown as (Tag name) below the button. Add, remove, or reorder tags.","onepoint-custom-blocks")}),(0===(j.tags||[]).length?[""]:j.tags).map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:8,flexWrap:"wrap"},children:[(0,i.jsx)(o.TextControl,{value:e||"",onChange:e=>{const o=[...j.tags||[]];for(;o.length<=t;)o.push("");o[t]=e||"",v(_,{tags:o})},placeholder:(0,n.__)("Tag name","onepoint-custom-blocks"),style:{flex:"1 1 120px",minWidth:0}}),(0,i.jsx)(o.Button,{variant:"tertiary",onClick:()=>{const e=[...j.tags||[]];for(;e.length<=t;)e.push("");t>0&&([e[t-1],e[t]]=[e[t],e[t-1]],v(_,{tags:e}))},disabled:0===t,label:(0,n.__)("Move up","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:"↑"}),(0,i.jsx)(o.Button,{variant:"tertiary",onClick:()=>{const e=[...j.tags||[]];for(;e.length<=t+1;)e.push("");t<e.length-1&&([e[t],e[t+1]]=[e[t+1],e[t]],v(_,{tags:e}))},disabled:t>=(j.tags||[]).length-1,label:(0,n.__)("Move down","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:"↓"}),(0,i.jsx)(o.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>{const e=(j.tags||[]).filter((e,o)=>o!==t);v(_,{tags:e.length>0?e:[""]})},label:(0,n.__)("Remove tag","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:(0,n.__)("Remove","onepoint-custom-blocks")})]},t)),(0,i.jsx)(o.Button,{variant:"secondary",onClick:()=>v(_,{tags:[...j.tags||[],""]}),style:{marginTop:4},children:(0,n.__)("Add tag","onepoint-custom-blocks")})]})]}),(0,i.jsxs)(o.PanelBody,{title:(0,n.__)("Metrics (current story)","onepoint-custom-blocks"),initialOpen:!0,children:[(0,i.jsx)("p",{style:{marginBottom:8,fontSize:12,color:"#757575"},children:(0,n.__)("Displayed in the right panel. Add, remove, or reorder metrics.","onepoint-custom-blocks")}),(0===(j.metrics||[]).length?[{value:"",label:""}]:j.metrics).map((e,t)=>(0,i.jsxs)("div",{style:{marginBottom:16,padding:"12px 0",borderTop:t>0?"1px solid #ddd":"none"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,flexWrap:"wrap",gap:6},children:[(0,i.jsxs)("strong",{children:[(0,n.__)("Metric","onepoint-custom-blocks")," ",t+1]}),(0,i.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,i.jsx)(o.Button,{variant:"tertiary",onClick:()=>{const e=[...j.metrics||[]];for(;e.length<=t;)e.push({value:"",label:""});t>0&&([e[t-1],e[t]]=[e[t],e[t-1]],v(_,{metrics:e}))},disabled:0===t,label:(0,n.__)("Move up","onepoint-custom-blocks"),style:{padding:"2px 6px",fontSize:12},children:"↑"}),(0,i.jsx)(o.Button,{variant:"tertiary",onClick:()=>{const e=[...j.metrics||[]];for(;e.length<=t+1;)e.push({value:"",label:""});t<e.length-1&&([e[t],e[t+1]]=[e[t+1],e[t]],v(_,{metrics:e}))},disabled:t>=(j.metrics||[]).length-1,label:(0,n.__)("Move down","onepoint-custom-blocks"),style:{padding:"2px 6px",fontSize:12},children:"↓"}),(0,i.jsx)(o.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>{const e=(j.metrics||[]).filter((e,o)=>o!==t);v(_,{metrics:e.length>0?e:[{value:"",label:""}]})},label:(0,n.__)("Remove metric","onepoint-custom-blocks"),style:{padding:"2px 6px",fontSize:12},children:(0,n.__)("Remove","onepoint-custom-blocks")})]})]}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Value","onepoint-custom-blocks"),value:e.value||"",onChange:e=>{const o=[...j.metrics||[]];for(;o.length<=t;)o.push({value:"",label:""});o[t]={...o[t],value:e||""},v(_,{metrics:o})},placeholder:"e.g. ~2000 or 99+",style:{marginBottom:8}}),(0,i.jsx)(o.TextControl,{label:(0,n.__)("Label","onepoint-custom-blocks"),value:e.label||"",onChange:e=>{const o=[...j.metrics||[]];for(;o.length<=t;)o.push({value:"",label:""});o[t]={...o[t],label:e||""},v(_,{metrics:o})},placeholder:"e.g. person hours saved monthly"})]},t)),(0,i.jsx)(o.Button,{variant:"secondary",onClick:()=>v(_,{metrics:[...j.metrics||[],{value:"",label:""}]}),style:{marginTop:4},children:(0,n.__)("Add metric","onepoint-custom-blocks")})]}),(0,i.jsxs)(o.PanelBody,{title:(0,n.__)("Background image (current story)","onepoint-custom-blocks"),initialOpen:!0,children:[j.backgroundImageUrl&&(0,i.jsx)("div",{style:{marginBottom:12},children:(0,i.jsx)("img",{src:j.backgroundImageUrl,alt:"",style:{maxWidth:"100%",height:"auto",display:"block",borderRadius:4,border:"1px solid #ddd"}})}),(0,i.jsx)(t.MediaUploadCheck,{children:(0,i.jsx)(t.MediaUpload,{onSelect:e=>v(_,{backgroundImageUrl:e.url||e.sizes?.full?.url||""}),allowedTypes:["image"],value:null,render:({open:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Button,{variant:"secondary",onClick:e,style:{marginBottom:8,display:"block"},children:j.backgroundImageUrl?(0,n.__)("Replace image","onepoint-custom-blocks"):(0,n.__)("Select image","onepoint-custom-blocks")}),j.backgroundImageUrl&&(0,i.jsx)(o.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>v(_,{backgroundImageUrl:""}),style:{display:"block"},children:(0,n.__)("Remove image","onepoint-custom-blocks")})]})})})]})]}),(0,i.jsx)("div",{...y,children:(0,i.jsxs)("div",{className:"onepoint-client-stories","data-editor-preview":!0,children:[(0,i.jsx)("div",{className:"onepoint-client-stories__header",children:(0,i.jsx)("h3",{className:"onepoint-client-stories__heading",children:r})}),(0,i.jsx)("div",{className:"onepoint-client-stories__card",children:(0,i.jsx)("div",{className:"onepoint-client-stories__list",role:"tablist",children:m.map((e,t)=>(0,i.jsxs)("div",{className:"onepoint-client-stories__item",children:[(0,i.jsxs)("button",{type:"button",role:"tab","aria-selected":t===u,className:"onepoint-client-stories__tab"+(t===u?" is-active":""),onClick:()=>{h(t),x(t)},children:[(0,i.jsx)("span",{className:"onepoint-client-stories__tab-title",children:e.tabTitle||""}),(0,i.jsx)("span",{className:"onepoint-client-stories__tab-subtitle",children:e.tabSubtitle||""}),(0,i.jsx)("span",{className:"onepoint-client-stories__tab-progress",children:(0,i.jsx)("span",{className:"onepoint-client-stories__tab-progress-fill"})})]}),(0,i.jsx)("div",{className:"onepoint-client-stories__content",children:(0,i.jsxs)("div",{className:"onepoint-client-stories__slide"+(t===u?" is-active":""),"aria-hidden":t!==u,role:"tabpanel",children:[(0,i.jsx)("div",{className:"onepoint-client-stories__slide-bg",style:e.backgroundImageUrl?{backgroundImage:"url("+e.backgroundImageUrl+")"}:{}}),(0,i.jsxs)("div",{className:"onepoint-client-stories__slide-inner",children:[(0,i.jsxs)("div",{className:"onepoint-client-stories__slide-left",children:[e.headline&&(0,i.jsx)("h2",{className:"onepoint-client-stories__slide-headline",children:e.headline}),e.description&&(0,i.jsx)("p",{className:"onepoint-client-stories__slide-desc",children:e.description}),e.buttonText&&(0,i.jsx)("a",{href:e.buttonUrl||"#",className:"onepoint-client-stories__slide-cta",onClick:t=>!e.buttonUrl&&t.preventDefault(),children:e.buttonText}),e.tags&&e.tags.filter(Boolean).length>0&&(0,i.jsx)("div",{className:"onepoint-client-stories__slide-tags",children:e.tags.filter(Boolean).map((e,t)=>(0,i.jsxs)("span",{className:"onepoint-client-stories__tag",children:[(0,i.jsx)("span",{className:"onepoint-client-stories__tag-chevron","aria-hidden":"true",children:"‹"}),e,(0,i.jsx)("span",{className:"onepoint-client-stories__tag-chevron","aria-hidden":"true",children:"›"})]},t))})]}),(0,i.jsx)("div",{className:"onepoint-client-stories__slide-right",children:(0,i.jsx)("div",{className:"onepoint-client-stories__metrics",children:e.metrics&&e.metrics.filter(e=>e.value||e.label).map((e,t)=>(0,i.jsxs)("div",{className:"onepoint-client-stories__metric",children:[(0,i.jsx)("span",{className:"onepoint-client-stories__metric-value",children:e.value}),(0,i.jsx)("span",{className:"onepoint-client-stories__metric-label",children:e.label})]},t))})})]})]})})]},t))})}),(0,i.jsxs)("div",{className:"onepoint-client-stories__controls",children:[(0,i.jsx)("button",{type:"button",className:"onepoint-client-stories__arrow onepoint-client-stories__arrow--prev","aria-label":(0,n.__)("Previous slide","onepoint-custom-blocks"),onClick:()=>{const e=(u-1+m.length)%m.length;h(e),x(e)}}),(0,i.jsxs)("button",{type:"button",className:"onepoint-client-stories__play-pause"+(b?" is-playing":" is-paused"),"aria-label":b?(0,n.__)("Pause carousel","onepoint-custom-blocks"):(0,n.__)("Play carousel","onepoint-custom-blocks"),onClick:()=>g(!b),children:[(0,i.jsx)("span",{className:"onepoint-client-stories__play-icon","aria-hidden":"true"}),(0,i.jsx)("span",{className:"onepoint-client-stories__pause-icon","aria-hidden":"true"})]}),(0,i.jsx)("button",{type:"button",className:"onepoint-client-stories__arrow onepoint-client-stories__arrow--next","aria-label":(0,n.__)("Next slide","onepoint-custom-blocks"),onClick:()=>{const e=(u+1)%m.length;h(e),x(e)}})]})]})})]})},save:()=>null})}},o={};function n(e){var s=o[e];if(void 0!==s)return s.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,o,s,i)=>{if(!o){var l=1/0;for(d=0;d<e.length;d++){for(var[o,s,i]=e[d],a=!0,r=0;r<o.length;r++)(!1&i||l>=i)&&Object.keys(n.O).every(e=>n.O[e](o[r]))?o.splice(r--,1):(a=!1,i<l&&(l=i));if(a){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,s,i]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var s,i,[l,a,r]=o,c=0;if(l.some(t=>0!==e[t])){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(r)var d=r(n)}for(t&&t(o);c<l.length;c++)i=l[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},o=globalThis.webpackChunkonepoint_custom_blocks=globalThis.webpackChunkonepoint_custom_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=n.O(void 0,[350],()=>n(46));s=n.O(s)})();