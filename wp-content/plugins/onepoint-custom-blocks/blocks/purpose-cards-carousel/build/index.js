(()=>{"use strict";var e,o={819(){const e=window.wp.blocks,o=window.wp.blockEditor,n=window.wp.components,t=window.wp.i18n,i=window.wp.element,s=window.ReactJSXRuntime,l={imageUrl:"",imageAlt:"",brand:"ONEPOINT",title:"AppShip",heading:"Investing in young people's futures",description:"by supporting STEM degrees alongside fulltime work, with hands-on involvement in client projects and mentoring from experienced colleagues.",accentColor:"#00D3BA"};(0,e.registerBlockType)("onepoint/purpose-cards-carousel",{edit:function({attributes:e,setAttributes:a}){const{sectionLabel:r="Purpose beyond profit",sectionHeading:c="Always doing right by every stakeholder",sectionDescription:d="We believe success is best reflected in the positive difference we make – for our clients, partners, people, and communities.",ctaText:p="Learn more about Purpose beyond profit",ctaUrl:u="",closedCardBackgroundUrl:m="",items:h=[]}=e,g=function(e){return e&&e.length>0?e:[{...l}]}(h);(0,i.useEffect)(()=>{0===(e.items||[]).length&&a({items:[{...l}]})},[]);const[b,_]=(0,i.useState)(0),[x,k]=(0,i.useState)(0);(0,i.useEffect)(()=>{x>=g.length&&k(Math.max(0,g.length-1))},[g.length,x]);const v=(e,o)=>{const n=[...g];n[e]={...n[e]||l,...o},a({items:n})},j=(e,o)=>{const n=e+o;if(n<0||n>=g.length)return;const t=[...g];[t[e],t[n]]=[t[n],t[e]],a({items:t}),k(n),_(b===e?n:b===n?e:b)},y=g[x]||l,C=(0,o.useBlockProps)({className:"onepoint-purpose-cards-editor"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.InspectorControls,{children:[(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Closed card background","onepoint-custom-blocks"),initialOpen:!0,children:[(0,s.jsx)("p",{style:{marginBottom:10,fontSize:12,color:"#757575"},children:(0,t.__)("Background image shown on collapsed/closed accordion cards. Leave empty for solid background.","onepoint-custom-blocks")}),(0,s.jsx)(o.MediaUploadCheck,{children:(0,s.jsx)(o.MediaUpload,{onSelect:e=>a({closedCardBackgroundUrl:e.url||e.sizes?.full?.url||""}),allowedTypes:["image"],value:null,render:({open:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Button,{variant:"secondary",onClick:e,style:{marginBottom:8,display:"block"},children:m?(0,t.__)("Replace background image","onepoint-custom-blocks"):(0,t.__)("Select background image","onepoint-custom-blocks")}),m&&(0,s.jsx)(n.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>a({closedCardBackgroundUrl:""}),style:{display:"block"},children:(0,t.__)("Remove background","onepoint-custom-blocks")})]})})})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Section","onepoint-custom-blocks"),initialOpen:!0,children:[(0,s.jsx)(n.TextControl,{label:(0,t.__)("Section label","onepoint-custom-blocks"),value:r,onChange:e=>a({sectionLabel:e||""}),help:(0,t.__)("Small label above the heading (e.g. Purpose beyond profit)","onepoint-custom-blocks")}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("Section heading","onepoint-custom-blocks"),value:c,onChange:e=>a({sectionHeading:e||""})}),(0,s.jsx)(n.TextareaControl,{label:(0,t.__)("Section description","onepoint-custom-blocks"),value:d,onChange:e=>a({sectionDescription:e||""}),rows:3}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("CTA button text","onepoint-custom-blocks"),value:p,onChange:e=>a({ctaText:e||""})}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("CTA button URL","onepoint-custom-blocks"),value:u,onChange:e=>a({ctaUrl:e||""})})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Accordion cards","onepoint-custom-blocks"),initialOpen:!0,children:[(0,s.jsx)("p",{style:{marginBottom:8,fontSize:12,color:"#757575"},children:(0,t.__)("Click a card to expand or edit. Add, remove, or reorder cards.","onepoint-custom-blocks")}),g.map((e,o)=>(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6,flexWrap:"wrap"},children:[(0,s.jsx)(n.Button,{variant:x===o?"primary":"secondary",onClick:()=>{k(o),_(o)},style:{flex:"1 1 100px",minWidth:0,textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.brand||(0,t.__)("Card","onepoint-custom-blocks")+" "+(o+1)}),(0,s.jsx)(n.Button,{variant:"tertiary",onClick:()=>j(o,-1),disabled:0===o,label:(0,t.__)("Move up","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:"↑"}),(0,s.jsx)(n.Button,{variant:"tertiary",onClick:()=>j(o,1),disabled:o===g.length-1,label:(0,t.__)("Move down","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:"↓"}),(0,s.jsx)(n.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>(e=>{if(g.length<=1)return;const o=g.filter((o,n)=>n!==e);a({items:o});let n=x;x===e?n=Math.min(e,o.length-1):x>e&&(n=x-1);let t=b;b===e?t=Math.min(e,o.length-1):b>e&&(t=b-1),k(n),_(t)})(o),disabled:g.length<=1,label:(0,t.__)("Remove card","onepoint-custom-blocks"),style:{padding:"4px 8px"},children:(0,t.__)("Remove","onepoint-custom-blocks")})]},o)),(0,s.jsx)(n.Button,{variant:"primary",onClick:()=>{const e=[...g,{...l}];a({items:e}),k(e.length-1),_(e.length-1)},style:{marginTop:8,display:"block"},children:(0,t.__)("Add card","onepoint-custom-blocks")})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Current card content","onepoint-custom-blocks"),initialOpen:!0,children:[(0,s.jsxs)("p",{style:{marginBottom:12,fontSize:12,fontWeight:600,color:"#1e1e1e"},children:[(0,t.__)("Editing card","onepoint-custom-blocks")," ",x+1," ",(0,t.__)("of","onepoint-custom-blocks")," ",g.length,y.title&&": "+y.title]}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("Brand (e.g. ONEPOINT)","onepoint-custom-blocks"),value:y.brand||"",onChange:e=>v(x,{brand:e||""})}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("Title (e.g. AppShip)","onepoint-custom-blocks"),value:y.title||"",onChange:e=>v(x,{title:e||""})}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("Heading","onepoint-custom-blocks"),value:y.heading||"",onChange:e=>v(x,{heading:e||""})}),(0,s.jsx)(n.TextareaControl,{label:(0,t.__)("Description","onepoint-custom-blocks"),value:y.description||"",onChange:e=>v(x,{description:e||""}),rows:3}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("Accent color","onepoint-custom-blocks"),value:y.accentColor||"#00D3BA",onChange:e=>v(x,{accentColor:e||"#00D3BA"}),help:(0,t.__)("Card border color (hex)","onepoint-custom-blocks")})]}),(0,s.jsxs)(n.PanelBody,{title:(0,t.__)("Card image / icon","onepoint-custom-blocks"),initialOpen:!0,children:[y.imageUrl&&(0,s.jsx)("div",{style:{marginBottom:12},children:(0,s.jsx)("img",{src:y.imageUrl,alt:"",style:{maxWidth:"100%",height:"auto",maxHeight:80,display:"block",borderRadius:4,border:"1px solid #ddd"}})}),(0,s.jsx)(o.MediaUploadCheck,{children:(0,s.jsx)(o.MediaUpload,{onSelect:e=>v(x,{imageUrl:e.url||e.sizes?.full?.url||"",imageAlt:e.alt||""}),allowedTypes:["image"],value:null,render:({open:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Button,{variant:"secondary",onClick:e,style:{marginBottom:8,display:"block"},children:y.imageUrl?(0,t.__)("Replace image","onepoint-custom-blocks"):(0,t.__)("Select image","onepoint-custom-blocks")}),y.imageUrl&&(0,s.jsx)(n.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>v(x,{imageUrl:"",imageAlt:""}),style:{display:"block"},children:(0,t.__)("Remove image","onepoint-custom-blocks")})]})})}),(0,s.jsx)(n.TextControl,{label:(0,t.__)("Image alt text","onepoint-custom-blocks"),value:y.imageAlt||"",onChange:e=>v(x,{imageAlt:e||""})})]})]}),(0,s.jsx)("div",{...C,children:(0,s.jsxs)("div",{className:"onepoint-purpose-cards","data-editor-preview":!0,style:m?{"--purpose-cards-closed-bg":`url(${m})`}:void 0,children:[(0,s.jsxs)("div",{className:"onepoint-purpose-cards__header",children:[r&&(0,s.jsx)("div",{className:"onepoint-purpose-cards__label-wrap",children:(0,s.jsx)("p",{className:"onepoint-purpose-cards__label",children:r})}),c&&(0,s.jsx)("h2",{children:c}),d&&(0,s.jsx)("p",{className:"onepoint-purpose-cards__description",children:d})]}),(0,s.jsx)("div",{className:"onepoint-purpose-cards__track",children:(0,s.jsx)("div",{className:"onepoint-purpose-cards__track-inner",children:g.map((e,o)=>(0,s.jsx)("button",{type:"button",className:"onepoint-purpose-cards__card"+(o===b?" is-active":""),onClick:()=>{_(o),k(o)},"aria-label":e.title||e.brand||(0,t.__)("Card","onepoint-custom-blocks")+" "+(o+1),style:{"--onepoint-card-accent":e.accentColor||"#00D3BA"},children:(0,s.jsxs)("div",{className:"onepoint-purpose-cards__card-inner",children:[(e.imageUrl||e.brand||e.title)&&(0,s.jsxs)("div",{className:"onepoint-purpose-cards__card-header",children:[e.imageUrl?(0,s.jsx)("div",{className:"onepoint-purpose-cards__card-icon",children:(0,s.jsx)("img",{src:e.imageUrl,alt:e.imageAlt||"",loading:"lazy"})}):(0,s.jsx)("div",{className:"onepoint-purpose-cards__card-icon-placeholder","aria-hidden":"true"}),(0,s.jsxs)("div",{className:"onepoint-purpose-cards__card-branding",children:[e.brand&&(0,s.jsx)("span",{className:"onepoint-purpose-cards__card-brand",children:e.brand}),e.title&&(0,s.jsx)("span",{className:"onepoint-purpose-cards__card-title",children:e.title})]})]}),e.heading&&(0,s.jsx)("h3",{className:"onepoint-purpose-cards__card-heading",children:e.heading}),e.description&&(0,s.jsx)("p",{className:"onepoint-purpose-cards__card-desc",children:e.description})]})},o))})}),p&&(0,s.jsx)("div",{className:"onepoint-purpose-cards__cta-wrap",children:(0,s.jsx)("a",{href:u||"#",className:"onepoint-purpose-cards__cta",onClick:e=>!u&&e.preventDefault(),children:p})})]})})]})},save:()=>null})}},n={};function t(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return o[e](s,s.exports,t),s.exports}t.m=o,e=[],t.O=(o,n,i,s)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,i,s]=e[d],a=!0,r=0;r<n.length;r++)(!1&s||l>=s)&&Object.keys(t.O).every(e=>t.O[e](n[r]))?n.splice(r--,1):(a=!1,s<l&&(l=s));if(a){e.splice(d--,1);var c=i();void 0!==c&&(o=c)}}return o}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,i,s]},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};t.O.j=o=>0===e[o];var o=(o,n)=>{var i,s,[l,a,r]=n,c=0;if(l.some(o=>0!==e[o])){for(i in a)t.o(a,i)&&(t.m[i]=a[i]);if(r)var d=r(t)}for(o&&o(n);c<l.length;c++)s=l[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},n=globalThis.webpackChunkonepoint_custom_blocks=globalThis.webpackChunkonepoint_custom_blocks||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))})();var i=t.O(void 0,[350],()=>t(819));i=t.O(i)})();
