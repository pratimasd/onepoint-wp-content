(()=>{"use strict";var e,n={957(){const e=window.wp.blocks,n=window.wp.blockEditor,o=window.wp.components,t=window.wp.i18n,l=window.wp.element,i=window.ReactJSXRuntime,a={greeting:"Hello, we are Onepoint",headline:"Enabling digital change with data and AI",description:"We collaborate with clients to deeply understand their digital and data challenges and opportunities.",buttonText:"Learn more about Onepoint",buttonUrl:"",imageId:0,imageUrl:"",imageAlt:"",videoUrl:"",imageGrayscale:!0};(0,e.registerBlockType)("onepoint/hero-banner",{edit:function({attributes:e,setAttributes:s}){const{items:r=[],autoplay:c=!0,interval:d=5}=e,p=function(e){return e&&e.length>0?e:[{...a}]}(r);(0,l.useEffect)(()=>{0===(e.items||[]).length&&s({items:[{...a}]})},[]);const[u,h]=(0,l.useState)(0),[m,_]=(0,l.useState)(!!c),[b,g]=(0,l.useState)(0);(0,l.useEffect)(()=>{b>=p.length&&g(Math.max(0,p.length-1))},[p.length,b]),(0,l.useEffect)(()=>{if(p.length<=1||!m)return;const e=setInterval(()=>{h(e=>(e+1)%p.length)},1e3*(d||5));return()=>clearInterval(e)},[p.length,m,d]);const x=(e,n)=>{const o=[...p];o[e]={...o[e]||a,...n},s({items:o})},v=p[b]||a,k=(0,n.useBlockProps)({className:"onepoint-hero-banner-editor"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.InspectorControls,{children:[(0,i.jsxs)(o.PanelBody,{title:(0,t.__)("Carousel","onepoint-custom-blocks"),initialOpen:!0,children:[(0,i.jsx)(o.TextControl,{label:(0,t.__)("Interval (seconds)","onepoint-custom-blocks"),type:"number",value:d,onChange:e=>s({interval:Math.max(1,parseInt(e,10)||5)}),help:(0,t.__)("Time between slide changes when playing.","onepoint-custom-blocks")}),(0,i.jsx)("p",{style:{marginBottom:8},children:(0,i.jsx)("strong",{children:(0,t.__)("Slides","onepoint-custom-blocks")})}),p.map((e,n)=>(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,i.jsxs)(o.Button,{isPrimary:b===n,variant:b===n?"primary":"secondary",onClick:()=>g(n),style:{flex:1},children:[(0,t.__)("Slide","onepoint-custom-blocks")," ",n+1]}),(0,i.jsx)(o.Button,{isDestructive:!0,disabled:p.length<=1,onClick:()=>(e=>{if(p.length<=1)return;const n=p.filter((n,o)=>o!==e);s({items:n}),g(Math.min(b,n.length-1)),h(e=>e>=n.length?n.length-1:e)})(n),label:(0,t.__)("Remove slide","onepoint-custom-blocks"),children:(0,t.__)("Remove","onepoint-custom-blocks")})]},n)),(0,i.jsx)(o.Button,{variant:"primary",onClick:()=>{s({items:[...p,{...a}]}),g(p.length),h(p.length)},style:{marginTop:8},children:(0,t.__)("Add slide","onepoint-custom-blocks")})]}),(0,i.jsxs)(o.PanelBody,{title:(0,t.__)("Content (current slide)","onepoint-custom-blocks"),initialOpen:!0,children:[(0,i.jsx)(o.TextControl,{label:(0,t.__)("Greeting","onepoint-custom-blocks"),value:v.greeting||"",onChange:e=>x(b,{greeting:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,t.__)("Headline","onepoint-custom-blocks"),value:v.headline||"",onChange:e=>x(b,{headline:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,t.__)("Description","onepoint-custom-blocks"),value:v.description||"",onChange:e=>x(b,{description:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,t.__)("Button text","onepoint-custom-blocks"),value:v.buttonText||"",onChange:e=>x(b,{buttonText:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,t.__)("Button URL","onepoint-custom-blocks"),value:v.buttonUrl||"",onChange:e=>x(b,{buttonUrl:e||""})})]}),(0,i.jsxs)(o.PanelBody,{title:(0,t.__)("Image & video (current slide)","onepoint-custom-blocks"),initialOpen:!0,children:[(0,i.jsx)(n.MediaUploadCheck,{children:(0,i.jsx)(n.MediaUpload,{onSelect:e=>x(b,{imageId:e.id,imageUrl:e.url||"",imageAlt:e.alt||""}),allowedTypes:["image"],value:v.imageId,render:({open:e})=>(0,i.jsx)(o.Button,{variant:"secondary",onClick:e,style:{marginBottom:12,display:"block"},children:v.imageUrl?(0,t.__)("Replace image","onepoint-custom-blocks"):(0,t.__)("Select image","onepoint-custom-blocks")})})}),(0,i.jsx)(o.TextControl,{label:(0,t.__)("Image alt text","onepoint-custom-blocks"),value:v.imageAlt||"",onChange:e=>x(b,{imageAlt:e||""})}),(0,i.jsx)(o.TextControl,{label:(0,t.__)("Video URL (play button link)","onepoint-custom-blocks"),value:v.videoUrl||"",onChange:e=>x(b,{videoUrl:e||""})})]})]}),(0,i.jsx)("div",{...k,children:(0,i.jsxs)("div",{className:"onepoint-hero-carousel","data-editor-preview":!0,children:[(0,i.jsx)("div",{className:"onepoint-hero-carousel__track",children:p.map((e,n)=>(0,i.jsxs)("div",{className:"onepoint-hero-carousel__slide onepoint-hero-banner"+(n===u?" is-active":""),"aria-hidden":n!==u,children:[(0,i.jsxs)("div",{className:"onepoint-hero-banner__left",children:[e.greeting&&(0,i.jsx)("p",{className:"onepoint-hero-banner__greeting",children:e.greeting}),e.headline&&(0,i.jsx)("h2",{className:"onepoint-hero-banner__headline",children:e.headline}),e.description&&(0,i.jsx)("p",{className:"onepoint-hero-banner__description",children:e.description}),e.buttonText&&(0,i.jsx)("a",{href:e.buttonUrl||"#",className:"onepoint-hero-banner__cta",onClick:n=>!e.buttonUrl&&n.preventDefault(),children:e.buttonText})]}),(0,i.jsx)("div",{className:"onepoint-hero-banner__right",children:e.imageUrl?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"onepoint-hero-banner__image-wrap"+(!1!==e.imageGrayscale?" onepoint-hero-banner__image-wrap--grayscale":""),children:(0,i.jsx)("img",{src:e.imageUrl,alt:e.imageAlt||"",className:"onepoint-hero-banner__image"})}),e.videoUrl&&(0,i.jsx)("a",{href:e.videoUrl,className:"onepoint-hero-banner__play",target:"_blank",rel:"noopener noreferrer","aria-label":(0,t.__)("Play video","onepoint-custom-blocks"),children:(0,i.jsx)("span",{className:"onepoint-hero-banner__play-icon","aria-hidden":"true"})})]}):(0,i.jsx)("div",{className:"onepoint-hero-banner__placeholder",children:(0,t.__)("Select an image in the block settings.","onepoint-custom-blocks")})})]},n))}),p.length>0&&(0,i.jsxs)("div",{className:"onepoint-hero-carousel__controls",children:[(0,i.jsx)("div",{className:"onepoint-hero-carousel__indicators",role:"tablist","aria-label":(0,t.__)("Slide indicators","onepoint-custom-blocks"),children:p.map((e,n)=>(0,i.jsx)("button",{type:"button",role:"tab","aria-selected":n===u,"aria-label":(0,t.__)("Slide","onepoint-custom-blocks")+" "+(n+1),className:"onepoint-hero-carousel__dot"+(n===u?" is-active":""),onClick:()=>{h(n),g(n)}},n))}),(0,i.jsx)("button",{type:"button",className:"onepoint-hero-carousel__play-pause",onClick:()=>_(!m),"aria-label":m?(0,t.__)("Pause carousel","onepoint-custom-blocks"):(0,t.__)("Play carousel","onepoint-custom-blocks"),title:m?(0,t.__)("Pause","onepoint-custom-blocks"):(0,t.__)("Play","onepoint-custom-blocks"),children:(0,i.jsx)("span",{className:"onepoint-hero-carousel__play-pause-icon"+(m?" is-paused":""),"aria-hidden":"true"})})]})]})})]})},save:()=>null})}},o={};function t(e){var l=o[e];if(void 0!==l)return l.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,t),i.exports}t.m=n,e=[],t.O=(n,o,l,i)=>{if(!o){var a=1/0;for(d=0;d<e.length;d++){for(var[o,l,i]=e[d],s=!0,r=0;r<o.length;r++)(!1&i||a>=i)&&Object.keys(t.O).every(e=>t.O[e](o[r]))?o.splice(r--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var c=l();void 0!==c&&(n=c)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,l,i]},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={57:0,350:0};t.O.j=n=>0===e[n];var n=(n,o)=>{var l,i,[a,s,r]=o,c=0;if(a.some(n=>0!==e[n])){for(l in s)t.o(s,l)&&(t.m[l]=s[l]);if(r)var d=r(t)}for(n&&n(o);c<a.length;c++)i=a[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},o=globalThis.webpackChunkonepoint_custom_blocks=globalThis.webpackChunkonepoint_custom_blocks||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))})();var l=t.O(void 0,[350],()=>t(957));l=t.O(l)})();