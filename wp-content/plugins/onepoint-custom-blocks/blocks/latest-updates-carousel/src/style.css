/* Latest Updates Carousel – Figma: node-id=3496-4309 */
@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Oxanium:wght@400;500;600;700&display=swap');

/* Figma design tokens – aligned with purpose-cards and client-stories */
:where(.onepoint-latest-updates) {
	--op-white: #FAFFFE;
	--op-black: #07000D;
	--op-black-soft: #020005;
	--op-text-2: #38333D;
	--op-text-4: #6A666D;
	--op-text-6: #9B999E;
	--op-text-9: #E6E5E6;
	--op-mint: #00D3BA;
	--op-purple: #8F00FF;
	--op-blue: #08B4FF;
	--op-gradient-border: linear-gradient(135deg, var(--op-purple) 0%, var(--op-blue) 100%);
}

/* Mobile-first layout – min-width: 0 allows shrinking in flex/block contexts */
.onepoint-latest-updates {
	position: relative;
	width: 100%;
	min-width: 0;
	max-width: 1280px;
	margin: 0 auto;
	background: var(--op-white);
	padding: 2rem 1rem 2.5rem;
	overflow: visible;
}

.onepoint-latest-updates__header {
	display: flex;
	flex-wrap: wrap;
	align-items: flex-start;
	justify-content: space-between;
	gap: 1rem;
	max-width: 100%;
	margin: 0 auto 1.5rem;
	padding: 0 1rem;
	overflow: visible;
}

.onepoint-latest-updates__header-text {
	flex: 1 1 min(100%, 42rem);
	min-width: 0;
	overflow: visible;
}

/* Section label – Figma: gradient blur behind, Manrope 16px */
.onepoint-latest-updates__label-wrap {
	position: relative;
	min-height: 40px;
	height: auto;
	display: flex;
	align-items: center;
	padding: 0.5rem 0;
	overflow: visible;
}

.onepoint-latest-updates__label-wrap::before {
	content: '';
	position: absolute;
	inset: -20px;
	z-index: 0;
	background: linear-gradient(90deg, rgba(230, 247, 255, 1) 15%, rgba(232, 204, 255, 0.9) 50%, rgba(230, 247, 255, 1) 85%);
	filter: blur(24px);
	pointer-events: none;
}

.onepoint-latest-updates__label {
	position: relative;
	z-index: 1;
	font-family: 'Manrope', sans-serif;
	font-size: clamp(14px, 4vw, 16px);
	font-weight: 400;
	line-height: 1.5;
	color: var(--op-black-soft);
	margin: 0;
}

.onepoint-latest-updates__description {
	font-family: 'Manrope', sans-serif;
	font-size: clamp(0.9375rem, 2.5vw, 20px);
	font-weight: 400;
	line-height: 1.52;
	color: var(--op-text-2);
	margin: 0;
	max-width: 42rem;
}

.onepoint-latest-updates__arrows {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	flex-shrink: 0;
}

/* Arrows – Figma: Onepoint purple/blue gradient border */
.onepoint-latest-updates__arrow {
	width: 48px;
	height: 48px;
	padding: 0;
	border: 2px solid transparent;
	border-radius: 50%;
	background: var(--op-white) padding-box, var(--op-gradient-border) border-box;
	color: var(--op-purple);
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: opacity 0.2s, transform 0.2s;
}

.onepoint-latest-updates__arrow:hover {
	opacity: 0.9;
	transform: scale(1.02);
}

.onepoint-latest-updates__arrow::before {
	content: '';
	width: 0;
	height: 0;
	border-style: solid;
	color: var(--op-purple);
}

.onepoint-latest-updates__arrow--prev::before {
	border-width: 8px 10px 8px 0;
	border-color: transparent currentColor transparent transparent;
	margin-right: 2px;
}

.onepoint-latest-updates__arrow--next::before {
	border-width: 8px 0 8px 10px;
	border-color: transparent transparent transparent currentColor;
	margin-left: 2px;
}

/* Track = viewport; overflow clips to exactly 3 full cards (no slivers) */
.onepoint-latest-updates__track {
	overflow: hidden;
	width: 100%;
	min-width: 0;
	padding: 0 1rem;
	box-sizing: border-box;
}

/* Mobile-first: 1 full card; desktop 600px+: 3 smaller cards with gap */
.onepoint-latest-updates {
	--lu-items: 1;
	--lu-visible: 1;
	--lu-gap: 0;
}

/* Track-inner: view.js sets --lu-track-inner-width-px for pixel-perfect sizing; fallback for editor */
.onepoint-latest-updates__track-inner {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	gap: var(--lu-gap);
	width: var(--lu-track-inner-width-px, calc(100% * var(--lu-items) / var(--lu-visible) + (var(--lu-items) / var(--lu-visible) - 1) * var(--lu-gap)));
	transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Card: view.js sets --lu-card-width-px for exact 3-cards fit; fallback for editor */
.onepoint-latest-updates__card {
	flex: 0 0 var(--lu-card-width-px, calc((100% - (var(--lu-items) - 1) * var(--lu-gap)) / var(--lu-items)));
	min-width: var(--lu-card-width-px, calc((100% - (var(--lu-items) - 1) * var(--lu-gap)) / var(--lu-items)));
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	background: var(--op-white);
	border-radius: 12px;
	overflow: hidden;
	border: 1px solid var(--op-text-9);
	box-shadow: 0 4px 16px rgba(7, 0, 13, 0.06);
	transition: box-shadow 0.3s ease, border-color 0.2s;
	cursor: default;
}

.onepoint-latest-updates__card:hover {
	box-shadow: 0 6px 24px rgba(7, 0, 13, 0.08);
	border-color: rgba(143, 0, 255, 0.15);
}

.onepoint-latest-updates__card-image-wrap {
	position: relative;
	width: 100%;
	aspect-ratio: 16 / 10;
	background: var(--op-text-9);
	overflow: hidden;
}

.onepoint-latest-updates__card-image,
.onepoint-latest-updates__card-image-placeholder {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
}

.onepoint-latest-updates__card-image-placeholder {
	background: linear-gradient(135deg, rgba(230, 247, 255, 0.8) 0%, rgba(232, 204, 255, 0.6) 50%, rgba(230, 247, 255, 0.8) 100%);
}

/* Category tag – Figma: pill with gradient border */
.onepoint-latest-updates__card-tag {
	position: absolute;
	top: 0.75rem;
	left: 0.75rem;
	padding: 0.35rem 0.75rem;
	font-family: 'Manrope', sans-serif;
	font-size: 0.75rem;
	font-weight: 500;
	color: var(--op-black);
	border: 2px solid transparent;
	background: rgba(250, 255, 254, 0.98) padding-box, var(--op-gradient-border) border-box;
	border-radius: 9999px;
	white-space: nowrap;
}

.onepoint-latest-updates__card-content {
	padding: 1.25rem;
	display: flex;
	flex-direction: column;
	gap: 1rem;
	flex: 1;
}

.onepoint-latest-updates__card-title {
	font-family: 'Manrope', sans-serif;
	font-size: clamp(1rem, 2.5vw, 20px);
	font-weight: 500;
	color: var(--op-black);
	line-height: 1.4;
	margin: 0;
}

/* CTA – Figma: gradient border 135deg purple→blue, Manrope 18px */
.onepoint-latest-updates__card-cta {
	display: inline-block;
	padding: clamp(10px, 2.5vw, 14px) clamp(20px, 4vw, 28px);
	font-family: 'Manrope', sans-serif;
	font-size: clamp(0.875rem, 2vw, 18px);
	font-weight: 400;
	line-height: 1.22;
	color: var(--op-black);
	text-decoration: none;
	border-radius: 9999px;
	border: 2px solid transparent;
	background: var(--op-white) padding-box, var(--op-gradient-border) border-box;
	transition: opacity 0.2s;
	align-self: flex-start;
	text-align: center;
}

.onepoint-latest-updates__card-cta:hover {
	opacity: 0.9;
	color: var(--op-black);
}

/* Editor: click to select card */
.onepoint-latest-updates__card[data-selected="true"] {
	outline: 2px solid var(--op-purple);
	outline-offset: 2px;
}

.onepoint-latest-updates-editor .onepoint-latest-updates__card {
	cursor: pointer;
}

/* Mobile: 1 full card, responsive padding, no gap for clean single-card view */
@media (max-width: 599px) {
	.onepoint-latest-updates {
		padding: 1.5rem 1rem 2rem;
		--lu-visible: 1;
		--lu-gap: 0;
	}

	.onepoint-latest-updates__track {
		padding: 0 0.5rem;
	}
}

@media (max-width: 379px) {
	.onepoint-latest-updates {
		padding: 1.25rem 0.75rem 1.5rem;
	}

	.onepoint-latest-updates__label-wrap::before {
		inset: -16px;
		filter: blur(20px);
	}

	.onepoint-latest-updates__track {
		padding: 0 0.5rem;
	}
}

/* Tablet+: 3 smaller cards with space between */
@media (min-width: 600px) {
	.onepoint-latest-updates {
		--lu-visible: 3;
		--lu-gap: 1rem;
	}

	.onepoint-latest-updates__label-wrap::before {
		inset: -24px;
		filter: blur(28px);
	}
}

@media (min-width: 768px) {
	.onepoint-latest-updates {
		padding: 2rem 1.5rem 2.5rem;
		--lu-gap: 1.25rem;
	}

	.onepoint-latest-updates__header {
		padding: 0 1.5rem;
	}

	.onepoint-latest-updates__track {
		padding: 0 1.5rem;
	}

	.onepoint-latest-updates__card-content {
		padding: 1.5rem;
	}
}

/* Desktop: 3 cards with more space between */
@media (min-width: 1024px) {
	.onepoint-latest-updates {
		--lu-gap: 1.5rem;
	}

	.onepoint-latest-updates__header {
		padding: 0 2rem;
	}

	.onepoint-latest-updates__track {
		padding: 0 2rem;
	}

	.onepoint-latest-updates__card {
		border-radius: 14px;
	}

	.onepoint-latest-updates__card-image-wrap {
		aspect-ratio: 16 / 9;
	}
}

/* Desktop 1280px+: full Figma spec – padding 80px 48px */
@media (min-width: 1200px) {
	.onepoint-latest-updates {
		padding: 4rem 2rem 5rem;
	}

	.onepoint-latest-updates__label-wrap::before {
		filter: blur(32px);
		inset: -24px;
	}
}

@media (min-width: 1280px) {
	.onepoint-latest-updates {
		padding: 80px 48px;
	}

	.onepoint-latest-updates__label-wrap::before {
		filter: blur(40px);
		inset: -24px;
	}

	.onepoint-latest-updates__header,
	.onepoint-latest-updates__track {
		padding-left: 48px;
		padding-right: 48px;
	}
}

/* Large desktop: constrain max width */
@media (min-width: 1400px) {
	.onepoint-latest-updates__header,
	.onepoint-latest-updates__track {
		max-width: 1280px;
		margin-left: auto;
		margin-right: auto;
		padding-left: 48px;
		padding-right: 48px;
	}
}
